<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>教师信息查询</title>
<link rel="stylesheet" href="easyui/themes/bootstrap/easyui.css" />
<link rel="stylesheet" href="easyui/themes/icon.css">
<script type="text/javascript" src="easyui/jquery.min.js"></script>
<script type="text/javascript" src="easyui/jquery.easyui.min.js"></script>
<script type="text/javascript" src="easyui/locale/easyui-lang-zh_CN.js"></script>
	<script type="text/javascript" src="datagrid-filter.js"></script>
	<style>
		.icon-filter{
			background:url('img/filter.png') no-repeat center center;
		}
	</style>
	<script>
   
		$(function(){
			
			var dg = $('#dg').datagrid({
				filterBtnIconCls:'icon-filter'
			});
			dg.datagrid('enableFilter', [{
				field:'score',
				type:'numberbox',
				options:{precision:1},
				op:['equal','notequal','less','lessorequal','greater','greaterorequal']
			},{
				field:'role',
				type:'combobox',
				options:{
					panelHeight:'auto',
					data:[{value:'',text:'所有'},{value:'管理员',text:'管理员'},{value:'巡查员',text:'巡查员'},{value:'教师',text:'教师'}],
					onChange:function(value){
						if (value == ''){
							dg.datagrid('removeFilterRule', 'role');
						} else {
							dg.datagrid('addFilterRule', {
								field: 'role',
								op: 'equal',
								value: value
							});
						}
						dg.datagrid('doFilter');
					}//datagrid_data1.json
				}//findUserInfo
			},
			
			
			{
				field:'dept',
				type:'combobox',
				options:{
					panelHeight:'auto',
					data:[{value:'',text:'所有'},{value:'高一年级',text:'高一年级'},{value:'高二年级',text:'高二年级'},{value:'高三年级',text:'高三年级'},{value:'高四年级',text:'高四年级'}],
					onChange:function(value){
						if (value == ''){
							dg.datagrid('removeFilterRule', 'dept');
						} else {
							dg.datagrid('addFilterRule', {
								field: 'dept',
								op: 'equal',
								value: value
							});
						}
						dg.datagrid('doFilter');
					}//datagrid_data1.json
				}//findUserInfo
			},
			
			{
				field:'position',
				type:'combobox',
				options:{
					panelHeight:'auto',
					data:[{value:'',text:'所有'},{value:'教师',text:'教师'},{value:'班主任',text:'班主任'},{value:'年级组长',text:'年级组长'},{value:'学科组长',text:'学科组长'},{value:'系主任',text:'系主任'},{value:'副校长',text:'副校长'},{value:'校长',text:'校长'}],
					onChange:function(value){
						if (value == ''){
							dg.datagrid('removeFilterRule', 'position');
						} else {
							dg.datagrid('addFilterRule', {
								field: 'position',
								op: 'equal',
								value: value
							});
						}
						dg.datagrid('doFilter');
					}//datagrid_data1.json
				}//findUserInfo
			},
			
			{
				field:'class',
				type:'combobox',
				options:{
					panelHeight:'auto',
					data:[{value:'',text:'所有'},{value:'1',text:'1班'},{value:'2',text:'2班'},{value:'3',text:'3班'},{value:'4',text:'4班'},{value:'5',text:'5班'},{value:'6',text:'6班'},{value:'7',text:'7班'},{value:'8',text:'8班'}],
					onChange:function(value){
						if (value == ''){
							dg.datagrid('removeFilterRule', 'class');
						} else {
							dg.datagrid('addFilterRule', {
								field: 'class',
								op: 'equal',
								value: value
							});
						}
						dg.datagrid('doFilter');
					}//datagrid_data1.json
				}//findUserInfo
			},
			
			
			{
				field:'course',
				type:'combobox',
				options:{
					panelHeight:'auto',
					data:[{value:'',text:'所有'},{value:'语文',text:'语文'},{value:'数学',text:'数学'},{value:'英语',text:'英语'},{value:'物理',text:'物理'},{value:'化学',text:'化学'},{value:'生物',text:'生物'},{value:'政治',text:'政治'},{value:'history',text:'历史'},{value:'地理',text:'地理'}],
					onChange:function(value){
						if (value == ''){
							dg.datagrid('removeFilterRule', 'course');
						} else {
							dg.datagrid('addFilterRule', {
								field: 'course',
								op: 'equal',
								value: value
							});
						}
						dg.datagrid('doFilter');
					}//datagrid_data1.json
				}//findUserInfo
			},{
				field:'sex',
				type:'combobox',
				options:{
					panelHeight:'auto',
					data:[{value:'',text:'所有'},{value:'男',text:'男'},{value:'女',text:'女'}],
					onChange:function(value){
						if (value == ''){
							dg.datagrid('removeFilterRule', 'sex');
						} else {
							dg.datagrid('addFilterRule', {
								field: 'sex',
								op: 'equal',
								value: value
							});
						}
						dg.datagrid('doFilter');
					}//datagrid_data1.json
				}//findUserInfo
			}]);
		});
	</script>
</head>
<body>
	
	
	<table id="dg" title="教师信息查询" style="width:auto;height:auto" data-options="
				rownumbers: true,
				singleSelect: true,
				iconCls: 'icon-save',
				url: 'getTeacherInfo',
				method: 'get'
			">
		<thead>
			<tr>
				<th data-options="field:'rname',width:'10%'">姓名</th>
				<th data-options="field:'position',width:'10%'">职位</th>
				<th data-options="field:'sex',width:'10%'">性别</th>
				<th data-options="field:'dept',width:'10%'">年级</th>
				<th data-options="field:'class',width:'10%'">班级</th>
				<th data-options="field:'course',width:'10%'">所授课程</th>
				<th data-options="field:'phone',width:'15%'">手机号</th>
				<th data-options="field:'score',width:'10%',align:'right'">分数</th>
				<th data-options="field:'role',width:'13%',align:'center'">权限</th>
			</tr>
		</thead>
	</table>
</body>
</html>
  </body>
</html>
